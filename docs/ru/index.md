---
title:
template: home.html
---
<p align="center">
  <a href="https://py-art.github.io/arfi-settings/">
    <img src="https://github.com/py-art/arfi-settings/blob/main/docs/assets/images/github-logo.png?raw=true" alt="ArFiSettings">
  </a>
</p>
<p align="center">
  <i>ArFiSettings - гибкое управление настройками приложения с валидацией на основе Pydantic</i>
</p>
<p align="center">
  <a href="https://codecov.io/github/py-art/arfi-settings" target="_blank">
    <img alt="Codecov" src="https://img.shields.io/codecov/c/github/py-art/arfi-settings?color=008080&logo=codecov&logoColor=008080">
  </a>
  <a href="https://pypi.org/project/arfi-settings" target="_blank">
    <img alt="PyPI - Python Version" src="https://img.shields.io/pypi/v/arfi-settings?label=pipy%20package&color=008080" alt="Package version"/>
  </a>
  <a href="https://pypi.org/project/arfi-settings" target="_blank">
    <img src="https://img.shields.io/pypi/pyversions/arfi-settings?color=008080" alt="Supported Python versions"/>
  </a>
</p>
___

**Документация**: [https://py-art.github.io/arfi-settings](https://py-art.github.io/arfi-settings)

**Исходный код**: [https://github.com/py-art/arfi-settings](https://github.com/py-art/arfi-settings)

*Логотип любезно предоставлен*: [Alex Zalevski](https://github.com/zalexstudios)


## Преимущества

- Содержит весь функционал [pydantic-settings](https://github.com/pydantic/pydantic-settings), но с более точным разрешением имён.
- Используется наследование при чтении из любых источников.
- Указание [источников конфигурации](usage/config.md#ordered_settings) индивидуально для каждого класса настроек.
- Возможность переключения всех настроек сменой всего одного параметра [MODE](usage/config.md#MODE).
- Возможность переключения между конкретными настройками с помощью дискриминатора.
- Чтение файлов конфигурации с любым расширением и без расширения.
- Настройка чтения [параметров командной строки](usage/cli.md) индивидуально для класса и для всего проекта.
- Гибкая настройка абсолютно всех параметров.
- Чёткая структура файлов конфигурации из коробки без необходимости предварительной настройки.
- Лёгкое создание собственных источников чтения конфигурации.
- Наличие [коннекторов](usage/connectors.md#) к наиболее распространённым базам данных
- Задание собственных настроек библиотеки по умолчанию в файле `pyproject.toml`.
- [Режим отладки](about/debug_mode.md#).
- И многое другое...

> **Заметка**: [arfi-settings](https://github.com/py-art/arfi-settings) ищет только те переменные, которые указаны в классах настроек. Остальные переменные просто игнорируются.


## Что реализовано

- [MODE](usage/config.md#MODE) - Указание режима чтения настроек, например, `dev`, `prod`, `test`.
- [Обратное наследование](about/reverse_inheritance.md) собственной конфигурации.
- [BASE_DIR](usage/config.md#BASE_DIR) - Автоматическое определение базовой директории проекта с возможностью переопределения вручную.
- Определение основных настроек `arfi_settings` в файле [pyproject.toml](usage/pyproject.md#). Путь до файла `pyproject.toml` определяется автоматически с возможностью ручной корректировки.
- Определение собственного [обработчика](usage/handlers.md#) и собственного [читателя](usage/readers.md#) не только для каждого класса, но и для каждого инстанса класса.
- Легкая возможность определение [порядка источников чтения настроек](usage/config.md#ordered_settings), удаления и добавления собственного обработчика для каждого инстанса класса. Требуется всего лишь переопределить список обработчиков по умолчанию. Глобально настраивается в файле `pyproject.toml` или в главном классе настроек. Индивидуально настраивается для каждого класса и для каждого инстанса класса. Есть возможность отключения наследования.
- Чтение настроек из [командной строки](usage/cli.md#). Требуется задать собственный читатель. По умолчанию отключено. Включается для каждого класса индивидуально или сразу для всех классов в файле `pyproject.toml`.
- Чтение настроек из переменных окружения. По умолчанию включено всегда. Есть возможность отключить в конкретном классе или в инстансе класса. Полностью отключается во всех классах через файл `pyproject.toml`.
- Чтение настроек из переменных окружения, заданных в одном или нескольких файлах. По умолчанию задано чтение из файла `.env`. Если для файла задан относительный путь, то сначала происходит поиск файла в корневой директории проекта (`root_dir`), там где лежит файл `pyproject.toml`. Если файл не найден, то происходит поиск в базовой директории проекта (`BASE_DIR`).
- Чтение настроек из секретной директории. Требуется указать секретную директорию. Задаётся глобально в `pyproject.toml`, или в главном классе настроек. Можно переопределить для каждого класса и для каждого инстанса класса.
- Чтение настроек из файлов. По умолчанию настройки читаются из директории `./config`, главный файл настроек - `./config/config.toml`. Директорию, как и файл можно переопределить или вообще отключить. По умолчанию читаются файлы с расширением `json`, `yml`, `yaml` и `toml`. Есть возможность чтения файлов без расширения или чтения файлов с любым другим расширением. Для этого нужно указать существующий или создать собственный читатель. Собственные читатели можно определять как для класса, так и для каждого инстанса класса.
- Минимальный набор настроек [коннекторов](usage/connectors.md#) для подключения к базам данных `PostgreSQL`, `MySQL` и `SQLite`. Особенность: `DATABASE_URL` определяется автоматически из остальных настроек, но если задать `DATABASE_URL` явно, то остальные настройки переопределяться, то есть `DATABASE_URL` всегда имеет приоритет над остальными настройками. В дальнейшем набор коннекторов будет расширен. Будут включены самые распространённые коннекторы не только к базам данных, но и такие как `Redis`, `RabbitMQ` и т.д.
- [Режим отладки](about/debug_mode.md#). Включается в файле `pyproject.toml`. На данный момент реализованы минимальные возможности. В дальнейшем планируется расширение возможностей вплоть до создания `web` интерфейса, если это будет востребовано.


## Дорожная карта

- [x] Создание документации
- [ ] Добавить недостающие коннекторы
- [ ] Чтение настроек из файлов без создания модели, но с возможностью использовать `MODE`, как для основного класса настроек
- [ ] Чтение настроек по `URL`
- [ ] Чтение зашифрованных настроек с указанием ключа
- [ ] Расширение дебаг-режима
